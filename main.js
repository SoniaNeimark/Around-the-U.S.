!function(){"use strict";var e={730:function(e,t,s){e.exports=s.p+"4e8e0a1d604782a0dff8.svg"},28:function(e,t,s){e.exports=s.p+"fe6c4f9454995a436f2e.png"}},t={};function s(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,s),i.exports}s.p="",function(){var e=s(730),t=s(28);function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class r{constructor(e,t,s){let{title:r,url:i}=e;o(this,"_deleteCard",(()=>{this._card.remove()})),o(this,"_toggleLike",(()=>{this._buttonLike.classList.toggle(this._data.buttonLikeActiveClass)})),this._title=r,this._url=i,this._data=t,this._handleCardClick=s}_getTemplate(){return document.querySelector(this._data.cardTemplateSelector).content.querySelector(this._data.cardSelector).cloneNode(!0)}generateCard(){return this._card=this._getTemplate(),this._cardTitle=this._card.querySelector(this._data.cardTitleSelector),this._cardImage=this._card.querySelector(this._data.cardImageSelector),this._buttonDelete=this._card.querySelector(this._data.buttonDeleteSelector),this._buttonLike=this._card.querySelector(this._data.buttonLikeSelector),this._cardTitle.textContent=this._title,this._cardImage.alt=this._title,this._cardImage.src=this._url,this._setEventListeners(),this._card}_setEventListeners(){this._buttonDelete.addEventListener("click",this._deleteCard),this._buttonLike.addEventListener("click",this._toggleLike),this._cardImage.addEventListener("click",this._handleCardClick)}}class i{constructor(e,t){this._formElement=document.querySelector(t),this._data=e,this._inputElements=Array.from(this._formElement.querySelectorAll(this._data.inputSelector)),this._buttonElement=this._formElement.querySelector(this._data.submitButtonSelector)}_showInputError(e){e.classList.add(this._data.inputErrorClass),this._errorText=this._formElement.querySelector("".concat(this._data.errorHiddenSelector,"_").concat(e.id)),this._errorText.textContent=e.validationMessage,this._errorText.classList.add(this._data.errorClass)}_hideInputError(e){e.classList.remove(this._data.inputErrorClass),this._errorText=this._formElement.querySelector("".concat(this._data.errorHiddenSelector,"_").concat(e.id)),this._errorText.textContent="",this._errorText.classList.remove(this._data.errorClass)}_checkIfInvalid(e){return!e.validity.valid}_hasInvalidInput(){return this._inputElements.some(this._checkIfInvalid)}_activateButton(){this._buttonElement.classList.remove(this._data.inactiveButtonClass),this._buttonElement.removeAttribute("disabled")}_deactivateButton(){this._buttonElement.classList.add(this._data.inactiveButtonClass),this._buttonElement.setAttribute("disabled",!0)}_setButtonState(){this._hasInvalidInput()?this._deactivateButton():this._activateButton()}_checkInputValidity(e){this._checkIfInvalid(e)?this._showInputError(e):this._hideInputError(e)}validateForm(){this._setButtonState(),this._inputElements.forEach((e=>{this._checkInputValidity(e)}))}resetValidation(){this._deactivateButton(),this._inputElements.forEach((e=>{this._hideInputError(e)}))}enableValidation(){this._inputElements.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._setButtonState()}))}))}}function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class a{constructor(e,t){n(this,"_handleEscClose",(e=>{"Escape"==e.key&&this.close()})),n(this,"_handleClickClose",(e=>{e.target!=this._popup&&e.target!=this._buttonClose||this.close()})),this._data=e,this._popup=document.querySelector(t),this._buttonClose=this._popup.querySelector(this._data.buttonCloseSelector)}open(){this._popup.classList.add(this._data.popupOpenClass),this.setEventListeners()}close(){this._popup.classList.remove(this._data.popupOpenClass),this.removeEventListeners()}setEventListeners(){this._popup.addEventListener("click",this._handleClickClose),document.addEventListener("keydown",this._handleEscClose)}removeEventListeners(){this._popup.removeEventListener("click",this._handleClickClose),document.removeEventListener("keydown",this._handleEscClose)}}class l extends a{constructor(e,t,s){super(e,t),this._form=this._popup.querySelector("form"),this._handleSubmit=s,this._inputElements=Array.from(this._popup.querySelectorAll(this._data.inputSelector))}getInputValues(){return this._formValues={},this._inputElements.forEach((e=>this._formValues[e.name]=e.value)),this._formValues}close(){super.close(),this._form.reset()}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",this._handleSubmit)}removeEventListeners(){super.removeEventListeners(),this._form.removeEventListener("submit",this._handleSubmit)}}document.getElementById("logo").src=e,document.getElementById("profile").src=t;const c={buttonLikeSelector:".like-button",buttonDeleteSelector:".delete-button",buttonCloseSelector:".close-button",buttonLikeActiveClass:"like-button_status_active",popupSelector:".popup-box",popupSubtitleSelector:".popup-box__subtitle",popupImageImageSelector:".popup-box__image",popupOpenClass:"popup-box_opened",cardsGallerySelector:".elements__cards",cardTemplateSelector:"#elements__card",cardSelector:".elements__card",cardImageSelector:".elements__image",cardTitleSelector:".elements__title",userNameSetSelector:".profile__name",userJobSetSelector:".profile__profession",buttonEditProfileSelector:".edit-button",buttonAddCardSelector:".add-button",popupEditProfileSelector:".popup-box_edit-profile",popupAddCardSelector:".popup-box_add-card",popupImageSelector:".popup-box_image",userNameToSetSelector:".popup-box__input_type_name",userJobToSetSelector:".popup-box__input_type_job",formSelector:".popup-box__form",inputSelector:".popup-box__input",submitButtonSelector:".popup-box__button",errorHiddenSelector:".popup-box__error",inactiveButtonClass:"popup-box__button_disabled",inputErrorClass:"popup-box__input_type_error",errorClass:"popup-box__error_visible"},u=document.querySelector(c.buttonEditProfileSelector),d=document.querySelector(c.buttonAddCardSelector),p=document.querySelector(c.userNameToSetSelector),_=document.querySelector(c.userJobToSetSelector),h=new class extends a{constructor(e,t){super(e,t),this._subtitle=this._popup.querySelector(this._data.popupSubtitleSelector),this._image=this._popup.querySelector(this._data.popupImageImageSelector)}open(e){this._subtitle.textContent=e.alt,this._image.alt=e.alt,this._image.src=e.src,super.open()}}(c,c.popupImageSelector),m=(e,t)=>{let{title:s,url:o}=e;const i=new r({title:s,url:o},t,(()=>{h.open(i._cardImage)}));return i.generateCard()},b=new class{constructor(e,t){let{items:s,renderer:o}=e;this._items=s,this._container=document.querySelector(t),this._renderer=o}renderItems(){this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}}({items:[{name:"Yosemite Valley",link:"https://code.s3.yandex.net/web-code/yosemite.jpg"},{name:"Lake Louise",link:"https://code.s3.yandex.net/web-code/lake-louise.jpg"},{name:"Bald Mountains",link:"https://code.s3.yandex.net/web-code/bald-mountains.jpg"},{name:"Latemar",link:"https://code.s3.yandex.net/web-code/latemar.jpg"},{name:"Vanoise National Park",link:"https://code.s3.yandex.net/web-code/vanoise.jpg"},{name:"Lago di Braies",link:"https://code.s3.yandex.net/web-code/lago.jpg"}].reverse(),renderer:e=>{b.addItem(m({title:e.name,url:e.link},c))}},c.cardsGallerySelector);b.renderItems();const S=new class{constructor(e){this._data=e,this._name=document.querySelector(this._data.userNameSetSelector),this._job=document.querySelector(this._data.userJobSetSelector)}getUserInfo(){return this._info={},this._info.name=this._name.textContent,this._info.job=this._job.textContent,this._info}setUserInfo(e){let{nameInfo:t,jobInfo:s}=e;this._name.textContent=t,this._job.textContent=s}}(c),v=new i(c,c.popupEditProfileSelector),f=new i(c,c.popupAddCardSelector);v.enableValidation(),f.enableValidation();const E=new l(c,c.popupEditProfileSelector,(e=>{e.preventDefault();const{name:t,about:s}=E.getInputValues();S.setUserInfo({nameInfo:t,jobInfo:s}),E.close()}));E.setEventListeners();const g=new l(c,c.popupAddCardSelector,(e=>{e.preventDefault();const{title:t,url:s}=g.getInputValues();b.addItem(m({title:t,url:s},c)),g.close()}));g.setEventListeners(),u.addEventListener("click",(()=>{E.open();const{name:e,job:t}=S.getUserInfo();p.value=e,_.value=t,v.validateForm()})),d.addEventListener("click",(()=>{g.open(),f.resetValidation()}))}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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d2VicGFjazovL3dlYl9wcm9qZWN0XzQvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy91dGlscy9zZXR0aW5ncy5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy91dGlscy9jYXJkcy5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Vc2VySW5mby5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjsiLCIvKipDcmVhdGUgQ2FyZCBjbGFzcyovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoeyB0aXRsZSwgdXJsIH0sIGRhdGEsIGhhbmRsZUNhcmRDbGljaykge1xuICAgIHRoaXMuX3RpdGxlID0gdGl0bGU7XG4gICAgdGhpcy5fdXJsID0gdXJsO1xuICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcbiAgfVxuXG4gIC8qKkdldCBhbiBlbGVtZW50IGZyb20gdGVtcGxhdGUqL1xuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50XG4gICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fZGF0YS5jYXJkVGVtcGxhdGVTZWxlY3RvcilcbiAgICAuY29udGVudFxuICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2RhdGEuY2FyZFNlbGVjdG9yKVxuICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG4gIH1cblxuICAvKipDcmVhdGUgbmV3IGNhcmQqL1xuICBnZW5lcmF0ZUNhcmQoKSB7XG4gICAgdGhpcy5fY2FyZCA9IHRoaXMuX2dldFRlbXBsYXRlKClcbiAgICB0aGlzLl9jYXJkVGl0bGUgPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IodGhpcy5fZGF0YS5jYXJkVGl0bGVTZWxlY3Rvcik7XG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKHRoaXMuX2RhdGEuY2FyZEltYWdlU2VsZWN0b3IpO1xuICAgIHRoaXMuX2J1dHRvbkRlbGV0ZSA9IHRoaXMuX2NhcmQucXVlcnlTZWxlY3Rvcih0aGlzLl9kYXRhLmJ1dHRvbkRlbGV0ZVNlbGVjdG9yKTtcbiAgICB0aGlzLl9idXR0b25MaWtlID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKHRoaXMuX2RhdGEuYnV0dG9uTGlrZVNlbGVjdG9yKTtcblxuICAgIHRoaXMuX2NhcmRUaXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX3RpdGxlO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5hbHQgPSB0aGlzLl90aXRsZTtcbiAgICB0aGlzLl9jYXJkSW1hZ2Uuc3JjID0gdGhpcy5fdXJsO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICByZXR1cm4gdGhpcy5fY2FyZDtcbiAgfVxuXG4gIC8qKkRlbGV0ZSBidXR0b24ncyBjb3JyZXNwb25kaW5nIGNhcmQqL1xuICBfZGVsZXRlQ2FyZCA9ICgpID0+IHtcbiAgICB0aGlzLl9jYXJkLnJlbW92ZSgpO1xuICB9XG5cbiAgLyoqVG9nZ2xlIGxpa2UtYnV0dG9uKi9cbiAgX3RvZ2dsZUxpa2UgPSAoKSA9PiB7XG4gICAgdGhpcy5fYnV0dG9uTGlrZS5jbGFzc0xpc3QudG9nZ2xlKHRoaXMuX2RhdGEuYnV0dG9uTGlrZUFjdGl2ZUNsYXNzKTtcbiAgfVxuXG4gIC8qKlNldCBldmVudC1saXN0ZW5lcnMgZm9yIGNsaWNrIGV2ZW50cyBvbiBkZWxldGUtICYmIGxpa2UtYnV0dG9ucyAmJiBmb3IgY2FyZCBpbWFnZSovXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9idXR0b25EZWxldGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2RlbGV0ZUNhcmQpO1xuICAgIHRoaXMuX2J1dHRvbkxpa2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX3RvZ2dsZUxpa2UpO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlQ2FyZENsaWNrKTtcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3RvcihkYXRhLCBmb3JtRWxlbWVudFNlbGVjdG9yKSB7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGZvcm1FbGVtZW50U2VsZWN0b3IpO1xuICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICAgIHRoaXMuX2lucHV0RWxlbWVudHMgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fZGF0YS5pbnB1dFNlbGVjdG9yKSk7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fZGF0YS5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gIH1cblxuICAvKipTaG93IGlucHV0LWVycm9yIG1lc3NhZ2UqL1xuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZGF0YS5pbnB1dEVycm9yQ2xhc3MpO1xuICAgIHRoaXMuX2Vycm9yVGV4dCA9IHRoaXNcbiAgICAuX2Zvcm1FbGVtZW50XG4gICAgLnF1ZXJ5U2VsZWN0b3IoYCR7dGhpcy5fZGF0YS5lcnJvckhpZGRlblNlbGVjdG9yfV8ke2lucHV0RWxlbWVudC5pZH1gKTtcbiAgICB0aGlzLl9lcnJvclRleHQudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XG4gICAgdGhpcy5fZXJyb3JUZXh0LmNsYXNzTGlzdC5hZGQodGhpcy5fZGF0YS5lcnJvckNsYXNzKTtcbiAgfVxuXG4gIC8qKkhpZGUgaW5wdXQtZXJyb3IgbWVzc2FnZSovXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9kYXRhLmlucHV0RXJyb3JDbGFzcyk7XG4gICAgdGhpcy5fZXJyb3JUZXh0ID0gdGhpc1xuICAgIC5fZm9ybUVsZW1lbnRcbiAgICAucXVlcnlTZWxlY3RvcihgJHt0aGlzLl9kYXRhLmVycm9ySGlkZGVuU2VsZWN0b3J9XyR7aW5wdXRFbGVtZW50LmlkfWApO1xuICAgIHRoaXMuX2Vycm9yVGV4dC50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgdGhpcy5fZXJyb3JUZXh0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZGF0YS5lcnJvckNsYXNzKTtcbiAgfVxuXG4gIC8qKlJldHVybiB0cnVlIGlmIHRoZSBpbnB1dC1lbGVtZW50IGhhcyBpbnZhbGlkIGlucHV0Ki9cbiAgX2NoZWNrSWZJbnZhbGlkKGlucHV0RWxlbWVudCkge1xuICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xuICB9XG5cbiAgLyoqUmV0dXJuIHRydWUgaWYgc29tZSBvZiBjaG9zZW4gaW5wdXQtZWxlbWVudHMgaGF2ZSBpbnZhbGlkIGlucHV0Ki9cbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRFbGVtZW50cy5zb21lKHRoaXMuX2NoZWNrSWZJbnZhbGlkKTtcbiAgfVxuXG4gIC8qKkFjdGl2YXRlIHN1Ym1pdC1idXR0b24qL1xuICBfYWN0aXZhdGVCdXR0b24oKSB7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2RhdGEuaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcbiAgfVxuXG4gIC8qKkRlYWN0aXZhdGUgc3VibWl0LWJ1dHRvbiovXG4gIF9kZWFjdGl2YXRlQnV0dG9uKCkge1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9kYXRhLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gIH1cblxuICAvKipTZXQgYnV0dG9uIHN0YXRlLCBkZXBlbmRpbmcgb24gdmFsaWRpZHR5IG9mIGNvcnJlc3BvbmRpbmcgaW5wdXRzKi9cbiAgX3NldEJ1dHRvblN0YXRlKCkge1xuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xuICAgICAgdGhpcy5fZGVhY3RpdmF0ZUJ1dHRvbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9hY3RpdmF0ZUJ1dHRvbigpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlNldCBlcnJvci1tZXNzYWdlIHN0YXRlLCBkZXBlbmRpbmcgb24gdmFsaWRpdHkgb2YgdGhlIGNvcnJlc3BvbmRpbmcgZWxlbWVudCovXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XG4gICAgaWYgKHRoaXMuX2NoZWNrSWZJbnZhbGlkKGlucHV0RWxlbWVudCkpIHtcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgLyoqVmFsaWRhdGUgdGhlIGNob3NlbiBmb3JtRWxlbWVudCovXG4gIHZhbGlkYXRlRm9ybSgpIHtcbiAgICB0aGlzLl9zZXRCdXR0b25TdGF0ZSgpO1xuICAgIHRoaXMuX2lucHV0RWxlbWVudHMuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlJlc2V0IHRoZSBjaG9zZW4gZm9ybUVsZW1lbnQgdmFsaWRhdGlvbiByZXN1bHRzKi9cbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2RlYWN0aXZhdGVCdXR0b24oKTtcbiAgICB0aGlzLl9pbnB1dEVsZW1lbnRzLmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKkVuYWJsZSB2YWxpZGF0aW9uKi9cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9pbnB1dEVsZW1lbnRzLmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xuICAgICAgICB0aGlzLl9zZXRCdXR0b25TdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsIi8qKkNyZWF0ZSBQb3B1cCBjbGFzcyAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3RvcihkYXRhLCBwb3B1cFNlbGVjdG9yKSB7XG4gICAgdGhpcy5fZGF0YSA9IGRhdGFcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fYnV0dG9uQ2xvc2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKHRoaXMuX2RhdGEuYnV0dG9uQ2xvc2VTZWxlY3Rvcik7XG4gIH1cblxuLyoqT3BlbiBwb3B1cCAqL1xuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQodGhpcy5fZGF0YS5wb3B1cE9wZW5DbGFzcyk7XG4gICAgdGhpcy5zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbi8qKkNsb3NlIHBvcHVwICovXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZGF0YS5wb3B1cE9wZW5DbGFzcyk7XG4gICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVycygpO1xuICB9XG5cbi8qKkVzY2FwZSBrZXkgaGFuZGxlciAqL1xuICBfaGFuZGxlRXNjQ2xvc2UgPSAoZXZ0KSA9PiB7XG4gICAgaWYgKGV2dC5rZXkgPT0gXCJFc2NhcGVcIikge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4vKipDbG9zZSBvbiBjbGljayBoYW5kbGVyICovXG4gIF9oYW5kbGVDbGlja0Nsb3NlID0gKGV2dCkgPT4ge1xuICAgIGlmIChldnQudGFyZ2V0ICA9PSB0aGlzLl9wb3B1cCB8fCBldnQudGFyZ2V0ID09IHRoaXMuX2J1dHRvbkNsb3NlKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbi8qKlNldCBldmVudC1saXN0ZW5lcnMgZm9yIGNsaWNrICYmIGVzYyBldmVudHMgKi9cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZUNsaWNrQ2xvc2UpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4vKipSZW1vdmUgZXZlbnQtbGlzdGVuZXJzIGZvciBjbGljayAmJiBlc2MgZXZlbnRzICovXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVDbGlja0Nsb3NlKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3RvcihkYXRhLCBwb3B1cFNlbGVjdG9yLCBoYW5kbGVTdWJtaXQpIHtcbiAgICBzdXBlcihkYXRhLCBwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcImZvcm1cIik7XG4gICAgdGhpcy5faGFuZGxlU3VibWl0ID0gaGFuZGxlU3VibWl0O1xuICAgIHRoaXMuX2lucHV0RWxlbWVudHMgPSBBcnJheS5mcm9tKHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fZGF0YS5pbnB1dFNlbGVjdG9yKSk7XG4gIH1cblxuICBnZXRJbnB1dFZhbHVlcygpIHtcbiAgICB0aGlzLl9mb3JtVmFsdWVzID0ge307XG4gICAgdGhpcy5faW5wdXRFbGVtZW50cy5mb3JFYWNoKGlucHV0RWxlbWVudCA9PiB0aGlzLl9mb3JtVmFsdWVzW2lucHV0RWxlbWVudC5uYW1lXSA9IGlucHV0RWxlbWVudC52YWx1ZSk7XG4gICAgcmV0dXJuIHRoaXMuX2Zvcm1WYWx1ZXM7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpO1xuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuX2hhbmRsZVN1Ym1pdCk7XG4gIH1cblxuICByZW1vdmVFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5yZW1vdmVFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2Zvcm0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLl9oYW5kbGVTdWJtaXQpO1xuICB9XG59XG4iLCJpbXBvcnQgbG9nb1NyYyBmcm9tIFwiLi4vaW1hZ2VzL2xvZ28vbG9nby5zdmdcIjtcbmltcG9ydCBwcm9maWxlU3JjIGZyb20gXCIuLi9pbWFnZXMvcHJvZmlsZS9wcm9maWxlX2ltYWdlLnBuZ1wiO1xuaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcbmltcG9ydCB7IGluaXRpYWxDYXJkcyB9IGZyb20gXCIuLi9zY3JpcHRzL3V0aWxzL2NhcmRzLmpzXCI7XG5pbXBvcnQgeyB2YWxpZGF0aW9uU2V0dGluZ3MsIHBhZ2VTZXR0aW5ncywgZG9jdW1lbnRTZXR0aW5ncyB9IGZyb20gXCIuLi9zY3JpcHRzL3V0aWxzL3NldHRpbmdzLmpzXCI7XG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xuaW1wb3J0IHsgRm9ybVZhbGlkYXRvciB9IGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xuY29uc3QgbG9nbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9nb1wiKTtcbmxvZ28uc3JjID0gbG9nb1NyYztcbmNvbnN0IHByb2ZpbGVJbWFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvZmlsZVwiKTtcbnByb2ZpbGVJbWFnZS5zcmMgPSBwcm9maWxlU3JjO1xuY29uc3QgdGhpc1BhZ2VTZXR0aW5ncyA9IHsgLi4uZG9jdW1lbnRTZXR0aW5ncywgLi4ucGFnZVNldHRpbmdzLCAuLi52YWxpZGF0aW9uU2V0dGluZ3MgfTtcbmNvbnN0IGJ1dHRvbkVkaXRQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzUGFnZVNldHRpbmdzLmJ1dHRvbkVkaXRQcm9maWxlU2VsZWN0b3IpO1xuY29uc3QgYnV0dG9uQWRkQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpc1BhZ2VTZXR0aW5ncy5idXR0b25BZGRDYXJkU2VsZWN0b3IpO1xuY29uc3QgcHJvZmlsZU5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpc1BhZ2VTZXR0aW5ncy51c2VyTmFtZVRvU2V0U2VsZWN0b3IpO1xuY29uc3QgcHJvZmlsZUpvYklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzUGFnZVNldHRpbmdzLnVzZXJKb2JUb1NldFNlbGVjdG9yKTtcblxuLy9DQVJEIEdBTExFUllcbi8qKkNyZWF0ZSBhIG5ldyBjYXJkLCB1c2luZyBwcm92aWRlZCBkYXRhKi9cbmNvbnN0IHBvcHVwV2l0aEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKHRoaXNQYWdlU2V0dGluZ3MsIHRoaXNQYWdlU2V0dGluZ3MucG9wdXBJbWFnZVNlbGVjdG9yKTtcblxuY29uc3QgY3JlYXRlQ2FyZCA9ICh7IHRpdGxlLCB1cmwgfSwgZGF0YSkgPT4ge1xuICBjb25zdCBuZXdDYXJkID0gbmV3IENhcmQoeyB0aXRsZSwgdXJsIH0sIGRhdGEsICgpID0+IHtcbiAgICBwb3B1cFdpdGhJbWFnZS5vcGVuKG5ld0NhcmQuX2NhcmRJbWFnZSk7XG4gIH0pO1xuICByZXR1cm4gbmV3Q2FyZC5nZW5lcmF0ZUNhcmQoKTtcbn07XG5cbi8qKkNyZWF0ZSA2IGRlZmF1bHQgY2FyZHMgZnJvbSB0aGUgaW5pdGlhbENhcmRzIGFycmF5IGFuZCBhZGQgdGhlbSB0byB0aGUgY2FyZEdhbGxlcnkqL1xuY29uc3QgY2FyZHNHYWxsZXJ5ID0gbmV3IFNlY3Rpb24oe1xuICBpdGVtczogaW5pdGlhbENhcmRzLnJldmVyc2UoKSxcbiAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XG4gICAgY2FyZHNHYWxsZXJ5LmFkZEl0ZW0oY3JlYXRlQ2FyZCh7XG4gICAgICB0aXRsZTogaXRlbS5uYW1lLFxuICAgICAgdXJsOiBpdGVtLmxpbmssXG4gICAgICB9LCB0aGlzUGFnZVNldHRpbmdzKSk7XG4gIH1cbn0sIHRoaXNQYWdlU2V0dGluZ3MuY2FyZHNHYWxsZXJ5U2VsZWN0b3IpO1xuY2FyZHNHYWxsZXJ5LnJlbmRlckl0ZW1zKCk7XG5cbi8vUFJPRklMRSBTRUNUSU9OXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh0aGlzUGFnZVNldHRpbmdzKTtcblxuLy9QT1BVUCBGT1JNU1xuY29uc3QgcHJvZmlsZUZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih0aGlzUGFnZVNldHRpbmdzLCB0aGlzUGFnZVNldHRpbmdzLnBvcHVwRWRpdFByb2ZpbGVTZWxlY3Rvcik7XG5jb25zdCBjYXJkQWRkRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHRoaXNQYWdlU2V0dGluZ3MsIHRoaXNQYWdlU2V0dGluZ3MucG9wdXBBZGRDYXJkU2VsZWN0b3IpO1xucHJvZmlsZUZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuY2FyZEFkZEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5jb25zdCBwb3B1cEVkaXQgPSBuZXcgUG9wdXBXaXRoRm9ybSh0aGlzUGFnZVNldHRpbmdzLFxuICB0aGlzUGFnZVNldHRpbmdzLnBvcHVwRWRpdFByb2ZpbGVTZWxlY3RvcixcbiAgKGV2dCkgPT4ge1xuICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgY29uc3QgeyBuYW1lLCBhYm91dCB9ID0gcG9wdXBFZGl0LmdldElucHV0VmFsdWVzKCk7XG4gIHVzZXJJbmZvLnNldFVzZXJJbmZvKHtcbiAgICBuYW1lSW5mbzogbmFtZSxcbiAgICBqb2JJbmZvOiBhYm91dFxuICB9KTtcbiAgcG9wdXBFZGl0LmNsb3NlKCk7XG59KTtcbnBvcHVwRWRpdC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBwb3B1cEFkZCA9IG5ldyBQb3B1cFdpdGhGb3JtKHRoaXNQYWdlU2V0dGluZ3MsXG4gIHRoaXNQYWdlU2V0dGluZ3MucG9wdXBBZGRDYXJkU2VsZWN0b3IsIChldnQpID0+IHtcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gIGNvbnN0IHsgdGl0bGUsIHVybCB9ID0gcG9wdXBBZGQuZ2V0SW5wdXRWYWx1ZXMoKTtcbiAgY2FyZHNHYWxsZXJ5LmFkZEl0ZW0oY3JlYXRlQ2FyZCh7XG4gICAgdGl0bGU6IHRpdGxlLFxuICAgIHVybDogdXJsXG4gIH0sIHRoaXNQYWdlU2V0dGluZ3MpKTtcbiAgcG9wdXBBZGQuY2xvc2UoKTtcbn0pO1xuICBwb3B1cEFkZC5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vKipQcm9maWxlIGVkaXQtYnV0dG9uIGV2ZW50LWhhbmRsZXIqL1xuYnV0dG9uRWRpdFByb2ZpbGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgcG9wdXBFZGl0Lm9wZW4oKTtcbiAgY29uc3QgeyBuYW1lLCBqb2IgfSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKClcbiAgcHJvZmlsZU5hbWVJbnB1dC52YWx1ZSA9IG5hbWU7XG4gIHByb2ZpbGVKb2JJbnB1dC52YWx1ZSA9IGpvYjtcbiAgcHJvZmlsZUZvcm1WYWxpZGF0b3IudmFsaWRhdGVGb3JtKCk7XG59KTtcblxuLyoqUHJvZmlsZSBhZGQtYnV0dG9uIGV2ZW50LWhhbmRsZXIqL1xuYnV0dG9uQWRkQ2FyZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBwb3B1cEFkZC5vcGVuKCk7XG4gIGNhcmRBZGRGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xufSk7XG4iLCJleHBvcnQgY29uc3QgZG9jdW1lbnRTZXR0aW5ncyA9IHtcbi8vIEJVVFRPTlNcbi8vLyBTRUxFQ1RPUlNcbiAgYnV0dG9uTGlrZVNlbGVjdG9yOiBcIi5saWtlLWJ1dHRvblwiLFxuICBidXR0b25EZWxldGVTZWxlY3RvcjogXCIuZGVsZXRlLWJ1dHRvblwiLFxuICBidXR0b25DbG9zZVNlbGVjdG9yOiBcIi5jbG9zZS1idXR0b25cIixcbi8vLyBDU1MgQ0xBU1NFU1xuICBidXR0b25MaWtlQWN0aXZlQ2xhc3M6IFwibGlrZS1idXR0b25fc3RhdHVzX2FjdGl2ZVwiLFxuXG4vLyBQT1BVUFNcbi8vLyBTRUxFQ1RPUlNcbiAgcG9wdXBTZWxlY3RvcjogXCIucG9wdXAtYm94XCIsXG4gIHBvcHVwU3VidGl0bGVTZWxlY3RvcjogXCIucG9wdXAtYm94X19zdWJ0aXRsZVwiLFxuICBwb3B1cEltYWdlSW1hZ2VTZWxlY3RvcjogXCIucG9wdXAtYm94X19pbWFnZVwiLFxuLy8vIENTUyBDTEFTU0VTXG4gIHBvcHVwT3BlbkNsYXNzOiBcInBvcHVwLWJveF9vcGVuZWRcIlxufVxuXG5leHBvcnQgY29uc3QgdmFsaWRhdGlvblNldHRpbmdzID0ge1xuLy8vIFNFTEVDVE9SU1xuICBmb3JtU2VsZWN0b3I6IFwiLnBvcHVwLWJveF9fZm9ybVwiLFxuICBpbnB1dFNlbGVjdG9yOiBcIi5wb3B1cC1ib3hfX2lucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cC1ib3hfX2J1dHRvblwiLFxuICBlcnJvckhpZGRlblNlbGVjdG9yOiBcIi5wb3B1cC1ib3hfX2Vycm9yXCIsXG4vLy8gQ1NTIENMQVNTRVNcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cC1ib3hfX2J1dHRvbl9kaXNhYmxlZFwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXAtYm94X19pbnB1dF90eXBlX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwicG9wdXAtYm94X19lcnJvcl92aXNpYmxlXCJcbn07XG5cbmV4cG9ydCBjb25zdCBwYWdlU2V0dGluZ3MgPSB7XG4vLyBFTEVNRU5UUyBTRUNUSU9OXG4vLy8gU0VMRUNUT1JTXG4gIGNhcmRzR2FsbGVyeVNlbGVjdG9yOiBcIi5lbGVtZW50c19fY2FyZHNcIixcbiAgY2FyZFRlbXBsYXRlU2VsZWN0b3I6IFwiI2VsZW1lbnRzX19jYXJkXCIsXG4gIGNhcmRTZWxlY3RvcjogXCIuZWxlbWVudHNfX2NhcmRcIixcbiAgY2FyZEltYWdlU2VsZWN0b3I6IFwiLmVsZW1lbnRzX19pbWFnZVwiLFxuICBjYXJkVGl0bGVTZWxlY3RvcjogXCIuZWxlbWVudHNfX3RpdGxlXCIsXG5cbi8vIFBST0ZJTEUgU0VDVElPTlxuLy8vIFNFTEVDVE9SU1xuICB1c2VyTmFtZVNldFNlbGVjdG9yOiBcIi5wcm9maWxlX19uYW1lXCIsXG4gIHVzZXJKb2JTZXRTZWxlY3RvcjogXCIucHJvZmlsZV9fcHJvZmVzc2lvblwiLFxuICBidXR0b25FZGl0UHJvZmlsZVNlbGVjdG9yOiBcIi5lZGl0LWJ1dHRvblwiLFxuICBidXR0b25BZGRDYXJkU2VsZWN0b3I6IFwiLmFkZC1idXR0b25cIixcblxuLy8gUE9QVVBTXG4vLy8gU0VMRUNUT1JTXG4gIHBvcHVwRWRpdFByb2ZpbGVTZWxlY3RvcjogXCIucG9wdXAtYm94X2VkaXQtcHJvZmlsZVwiLFxuICBwb3B1cEFkZENhcmRTZWxlY3RvcjogXCIucG9wdXAtYm94X2FkZC1jYXJkXCIsXG4gIHBvcHVwSW1hZ2VTZWxlY3RvcjogXCIucG9wdXAtYm94X2ltYWdlXCIsXG4gIHVzZXJOYW1lVG9TZXRTZWxlY3RvcjogXCIucG9wdXAtYm94X19pbnB1dF90eXBlX25hbWVcIixcbiAgdXNlckpvYlRvU2V0U2VsZWN0b3I6IFwiLnBvcHVwLWJveF9faW5wdXRfdHlwZV9qb2JcIixcbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IoZGF0YSwgcG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKGRhdGEsIHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3N1YnRpdGxlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3Rvcih0aGlzLl9kYXRhLnBvcHVwU3VidGl0bGVTZWxlY3Rvcik7XG4gICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKHRoaXMuX2RhdGEucG9wdXBJbWFnZUltYWdlU2VsZWN0b3IpO1xuICB9XG5cbiAgb3BlbihjYXJkSW1hZ2UpIHtcbiAgICB0aGlzLl9zdWJ0aXRsZS50ZXh0Q29udGVudCA9IGNhcmRJbWFnZS5hbHQ7XG4gICAgdGhpcy5faW1hZ2UuYWx0ID0gY2FyZEltYWdlLmFsdDtcbiAgICB0aGlzLl9pbWFnZS5zcmMgPSBjYXJkSW1hZ2Uuc3JjO1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyXG4gIH1cblxuICByZW5kZXJJdGVtcygpIHtcbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcbiAgICB9KTtcbiAgfVxuXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xuICB9XG59XG4iLCJleHBvcnQgY29uc3QgaW5pdGlhbENhcmRzID0gW1xuICB7XG4gICAgbmFtZTogXCJZb3NlbWl0ZSBWYWxsZXlcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL3lvc2VtaXRlLmpwZ1wiXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkxha2UgTG91aXNlXCIsXG4gICAgbGluazogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS9sYWtlLWxvdWlzZS5qcGdcIlxuICB9LFxuICB7XG4gICAgbmFtZTogXCJCYWxkIE1vdW50YWluc1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvYmFsZC1tb3VudGFpbnMuanBnXCJcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGF0ZW1hclwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvbGF0ZW1hci5qcGdcIlxuICB9LFxuICB7XG4gICAgbmFtZTogXCJWYW5vaXNlIE5hdGlvbmFsIFBhcmtcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL3Zhbm9pc2UuanBnXCJcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGFnbyBkaSBCcmFpZXNcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL2xhZ28uanBnXCJcbiAgfVxuXTsvKkluaXRpYWwgYXJyYXkgb2Ygb2JqZWN0cyB3aXRoIGltYWdlIHByb3BlcnRpZXMgYXMgdGhlaXIga2V5cyovXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKGRhdGEpIHtcbiAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgICB0aGlzLl9uYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9kYXRhLnVzZXJOYW1lU2V0U2VsZWN0b3IpO1xuICAgIHRoaXMuX2pvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fZGF0YS51c2VySm9iU2V0U2VsZWN0b3IpO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgdGhpcy5faW5mbyA9IHt9O1xuICAgIHRoaXMuX2luZm8ubmFtZSA9IHRoaXMuX25hbWUudGV4dENvbnRlbnQ7XG4gICAgdGhpcy5faW5mby5qb2IgPSB0aGlzLl9qb2IudGV4dENvbnRlbnQ7XG4gICAgcmV0dXJuIHRoaXMuX2luZm87XG4gIH1cblxuICBzZXRVc2VySW5mbyh7IG5hbWVJbmZvLCBqb2JJbmZvIH0pIHtcbiAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gbmFtZUluZm87XG4gICAgdGhpcy5fam9iLnRleHRDb250ZW50ID0gam9iSW5mbztcbiAgfVxufVxuIl0sIm5hbWVzIjpbIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwicCIsIkNhcmQiLCJjb25zdHJ1Y3RvciIsImRhdGEiLCJoYW5kbGVDYXJkQ2xpY2siLCJ0aXRsZSIsInVybCIsInRoaXMiLCJfY2FyZCIsInJlbW92ZSIsIl9idXR0b25MaWtlIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiX2RhdGEiLCJidXR0b25MaWtlQWN0aXZlQ2xhc3MiLCJfdGl0bGUiLCJfdXJsIiwiX2hhbmRsZUNhcmRDbGljayIsIl9nZXRUZW1wbGF0ZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNhcmRUZW1wbGF0ZVNlbGVjdG9yIiwiY29udGVudCIsImNhcmRTZWxlY3RvciIsImNsb25lTm9kZSIsImdlbmVyYXRlQ2FyZCIsIl9jYXJkVGl0bGUiLCJjYXJkVGl0bGVTZWxlY3RvciIsIl9jYXJkSW1hZ2UiLCJjYXJkSW1hZ2VTZWxlY3RvciIsIl9idXR0b25EZWxldGUiLCJidXR0b25EZWxldGVTZWxlY3RvciIsImJ1dHRvbkxpa2VTZWxlY3RvciIsInRleHRDb250ZW50IiwiYWx0Iiwic3JjIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9kZWxldGVDYXJkIiwiX3RvZ2dsZUxpa2UiLCJGb3JtVmFsaWRhdG9yIiwiZm9ybUVsZW1lbnRTZWxlY3RvciIsIl9mb3JtRWxlbWVudCIsIl9pbnB1dEVsZW1lbnRzIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0U2VsZWN0b3IiLCJfYnV0dG9uRWxlbWVudCIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX3Nob3dJbnB1dEVycm9yIiwiaW5wdXRFbGVtZW50IiwiYWRkIiwiaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yVGV4dCIsImVycm9ySGlkZGVuU2VsZWN0b3IiLCJpZCIsInZhbGlkYXRpb25NZXNzYWdlIiwiZXJyb3JDbGFzcyIsIl9oaWRlSW5wdXRFcnJvciIsIl9jaGVja0lmSW52YWxpZCIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGFzSW52YWxpZElucHV0Iiwic29tZSIsIl9hY3RpdmF0ZUJ1dHRvbiIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJyZW1vdmVBdHRyaWJ1dGUiLCJfZGVhY3RpdmF0ZUJ1dHRvbiIsInNldEF0dHJpYnV0ZSIsIl9zZXRCdXR0b25TdGF0ZSIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJ2YWxpZGF0ZUZvcm0iLCJmb3JFYWNoIiwicmVzZXRWYWxpZGF0aW9uIiwiZW5hYmxlVmFsaWRhdGlvbiIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsImV2dCIsImtleSIsImNsb3NlIiwidGFyZ2V0IiwiX3BvcHVwIiwiX2J1dHRvbkNsb3NlIiwiYnV0dG9uQ2xvc2VTZWxlY3RvciIsIm9wZW4iLCJwb3B1cE9wZW5DbGFzcyIsInNldEV2ZW50TGlzdGVuZXJzIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJfaGFuZGxlQ2xpY2tDbG9zZSIsIl9oYW5kbGVFc2NDbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlU3VibWl0Iiwic3VwZXIiLCJfZm9ybSIsIl9oYW5kbGVTdWJtaXQiLCJnZXRJbnB1dFZhbHVlcyIsIl9mb3JtVmFsdWVzIiwibmFtZSIsInZhbHVlIiwicmVzZXQiLCJnZXRFbGVtZW50QnlJZCIsImxvZ29TcmMiLCJwcm9maWxlU3JjIiwidGhpc1BhZ2VTZXR0aW5ncyIsInBvcHVwU3VidGl0bGVTZWxlY3RvciIsInBvcHVwSW1hZ2VJbWFnZVNlbGVjdG9yIiwiY2FyZHNHYWxsZXJ5U2VsZWN0b3IiLCJ1c2VyTmFtZVNldFNlbGVjdG9yIiwidXNlckpvYlNldFNlbGVjdG9yIiwiYnV0dG9uRWRpdFByb2ZpbGVTZWxlY3RvciIsImJ1dHRvbkFkZENhcmRTZWxlY3RvciIsInBvcHVwRWRpdFByb2ZpbGVTZWxlY3RvciIsInBvcHVwQWRkQ2FyZFNlbGVjdG9yIiwicG9wdXBJbWFnZVNlbGVjdG9yIiwidXNlck5hbWVUb1NldFNlbGVjdG9yIiwidXNlckpvYlRvU2V0U2VsZWN0b3IiLCJmb3JtU2VsZWN0b3IiLCJidXR0b25FZGl0UHJvZmlsZSIsImJ1dHRvbkFkZENhcmQiLCJwcm9maWxlTmFtZUlucHV0IiwicHJvZmlsZUpvYklucHV0IiwicG9wdXBXaXRoSW1hZ2UiLCJfc3VidGl0bGUiLCJfaW1hZ2UiLCJjYXJkSW1hZ2UiLCJjcmVhdGVDYXJkIiwibmV3Q2FyZCIsImNhcmRzR2FsbGVyeSIsImNvbnRhaW5lclNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pdGVtcyIsIl9jb250YWluZXIiLCJfcmVuZGVyZXIiLCJyZW5kZXJJdGVtcyIsIml0ZW0iLCJhZGRJdGVtIiwiZWxlbWVudCIsInByZXBlbmQiLCJsaW5rIiwicmV2ZXJzZSIsInVzZXJJbmZvIiwiX25hbWUiLCJfam9iIiwiZ2V0VXNlckluZm8iLCJfaW5mbyIsImpvYiIsInNldFVzZXJJbmZvIiwibmFtZUluZm8iLCJqb2JJbmZvIiwicHJvZmlsZUZvcm1WYWxpZGF0b3IiLCJjYXJkQWRkRm9ybVZhbGlkYXRvciIsInBvcHVwRWRpdCIsInByZXZlbnREZWZhdWx0IiwiYWJvdXQiLCJwb3B1cEFkZCJdLCJzb3VyY2VSb290IjoiIn0=